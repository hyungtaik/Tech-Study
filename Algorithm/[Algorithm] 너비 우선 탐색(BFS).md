# λ„λΉ„ μ°μ„  νƒμƒ‰ (Breadth First Search , BFS)

## π“ κ·Έλν”„ νƒμƒ‰μ΄λ€?

- **κ·Έλν”„(Graph)** : μ—°κ²°λμ–΄ μλ” κ°μ²΄ κ°„μ κ΄€κ³„λ¥Ό ν‘ν„ν•  μ μλ” μλ£ κµ¬μ΅°. 
  - μ •μ (vertex,node), κ°„μ„ (edge,link) λ΅ κ·Έλν”„λ¥Ό ν‘ν„
- ν•λ‚μ μ •μ μΌλ΅λ¶€ν„° μ‹μ‘ν•μ—¬ μ°¨λ΅€λ€λ΅ λ¨λ“  μ •μ λ“¤μ„ ν• λ²μ”© λ°©λ¬Έν•λ” κ²ƒ
  - Ex) νΉμ • λ…Έλ“μ—μ„ λ‹¤λ¥Έ λ…Έλ“λ΅ κ° μ μλ”μ§€ μ—†λ”μ§€, νΉμ • λ…Έλ“κ°€ μ„λ΅ μ—°κ²°λμ–΄ μλ”μ§€



### 1. λ„λΉ„ μ°μ„  νƒμƒ‰μ΄λ€?

- **λ£¨νΈ λ…Έλ“ (νΉμ€ λ‹¤λ¥Έ μ„μμ λ…Έλ“) μ—μ„ μ‹μ‘ν•΄μ„ μΈμ ‘ν• λ…Έλ“λ¥Ό λ¨Όμ € νƒμƒ‰ν•λ” λ°©λ²•**

  - μ‹μ‘ μ •μ μΌλ΅λ¶€ν„° κ°€κΉμ΄ μ •μ μ„ λ¨Όμ € λ°©λ¬Έν•κ³  λ©€λ¦¬ λ–¨μ–΄μ Έ μλ” μ •μ μ„ λ‚μ¤‘μ— λ°©λ¬Έν•λ” μν λ°©λ²•μ΄λ‹¤.

  - λ°©λ¬Έν• μ •μ λ“¤μ„ μ²΄ν¬ν•μ—¬ μ΄μ „μ— λ°©λ¬Έν• μ •μ μ„ λ λ°©λ¬Έν•μ§€ μ•λ„λ΅ ν¨μ¨μ μΌλ΅ ν•λ‹¤. 

    - ex) λ°©λ¬Έν• μ •μ λ“¤μ„ μ²΄ν¬ν•λ” bool λ°°μ—΄

  - μ¦‰, κΉκ²(Deep) νƒμƒ‰ν•κΈ° μ „μ— **λ„“κ²(Wide)** νƒμƒ‰ν•λ” κ²ƒμ΄λ‹¤.

  - **λ‘ λ…Έλ“ μ‚¬μ΄μ μµλ‹¨ κ²½λ΅** or **μ„μμ κ²½λ΅λ¥Ό μ°Ύκ³  μ‹¶μ„ λ•** μ‚¬μ©ν•λ‹¤.

    - ```markdown
      Example) μΈν„°λ„· μƒμ μ—°κ²°λ λ¨λ“  μ»΄ν“¨ν„°λ¥Ό κ·Έλν”„λ΅ ν‘ν„ν• ν›„ λ‚΄ μ»΄ν“¨ν„°μ™€ μΉκµ¬μ λ…ΈνΈλ¶ μ‚¬μ΄μ— μ΅΄μ¬ν•λ” κ²½λ΅λ¥Ό μ°Ύλ” κ²½μ°
      
      - κΉμ΄ μ°μ„  νƒμƒ‰μ κ²½μ° : λ¨λ“  μ»΄ν“¨ν„° κ΄€κ³„λ¥Ό λ‹¤ μ‚΄ν΄λ΄μ•Ό ν•  μ§€λ„ λ¨λ¥Έλ‹¤(μµμ•…μ κ²½μ°)
      - λ„λΉ„ μ°μ„  νƒμƒ‰μ κ²½μ° : λ‚΄ μ»΄ν“¨ν„°λ΅λ¶€ν„° κ°€κΉμ΄ κ΄€κ³„λ¶€ν„° νƒμƒ‰
      ```

  - BFSκ°€ DFSλ³΄λ‹¤ μΆ€ λ” λ³µμ΅ν•λ‹¤.



### 2. BFSμ νΉμ§•

- μ§κ΄€μ μ΄μ§€ μ•μ€ λ©΄μ΄ μλ‹¤.
- BFSλ” μ‹μ‘ λ…Έλ“μ—μ„ μ‹μ‘ν•΄μ„ κ±°λ¦¬μ— λ”°λΌ λ‹¨κ³„λ³„λ΅ νƒμƒ‰ν•λ‹¤κ³  λ³Ό μ μλ‹¤.
  - λ©€λ¦¬ λ–¨μ–΄μ§„ λ…Έλ“λ” λ‚μ¤‘μ— νƒμƒ‰ν•λ” λ°©μ‹μ΄κΈ° λ•λ¬Έμ— **μµλ‹¨ κ²½λ΅λ¥Ό νƒμƒ‰ν•  λ• ν™μ©ν•κΈ° μΆ‹μ€ λ°©μ‹**μ΄λ‹¤.
- BFSλ” μ¬κ·€μ μΌλ΅ λ™μ‘ν•μ§€ μ•λ”λ‹¤.
- κ·Έλν”„ νƒμƒ‰μ κ²½μ° μ–΄λ–¤ λ…Έλ“λ¥Ό λ°©λ¬Έν–μ—λ”μ§€ μ—¬λ¶€λ¥Ό λ°λ“μ‹ κ²€μ‚¬ν•΄μ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤.
  - μ΄λ¥Ό κ²€μ‚¬ν•μ§€ μ•μ„ κ²½μ° λ¬΄ν• λ£¨ν”„μ— λΉ μ§ μ„ν—μ΄ μλ‹¤.
- BFSλ” λ°©λ¬Έν• λ…Έλ“λ“¤μ„ μ°¨λ΅€λ΅ μ €μ¥ν• ν›„ κΊΌλ‚Ό μ μλ” μλ£ κµ¬μ΅°μΈ **ν(Queue)**λ¥Ό μ‚¬μ©ν•λ‹¤.
  - νμ— μ €μ¥λ μμ„λ€λ΅ νƒμƒ‰
    - μ„ μ…μ„ μ¶(FIFO)μ λ°©μ‹μ„ ν™μ©ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— νλ¥Ό ν™μ©
  - μΌλ°μ μΌλ΅ νλ¥Ό μ΄μ©ν•΄μ„ λ°λ³µμ  ν•νƒλ΅ κµ¬ν„ν•λ” κ²ƒμ΄ μ λ™μ‘ν•λ‹¤.
  - Prim, Dijkstra μ•κ³ λ¦¬μ¦κ³Ό μ μ‚¬ν•λ‹¤.



### 3. BFSμ κ³Όμ •

- 1. λ£¨νΈ λ…Έλ“μ—μ„ μ‹μ‘
  2. λ£¨νΈ λ…Έλ“μ™€ μΈμ ‘ν•κ³ , λ°©λ¬Έλ μ μ΄ μ—†λ” λ…Έλ“λ¥Ό νμ— μ‚½μ…
  3. νμ—μ„ dequeueν•μ—¬ κ°€μ¥ λ¨Όμ € νμ— μ €μ¥ν• λ…Έλ“λ¥Ό λ°©λ¬Έ

  >![image](https://user-images.githubusercontent.com/39832802/91533164-620b9780-e94a-11ea-8f60-65bc099340af.png)
  >
  >( μ‚¬μ§„ μ¶μ²: [heejeong Kwonλ‹μ κΈ°μ λΈ”λ΅κ·Έ](https://gmlwjd9405.github.io/2018/08/15/algorithm-bfs.html) )
  >
  >
  >
  >1) μ‹μ‘ λ…Έλ“λ¥Ό λ°©λ¬Έν•λ‹¤. (λ°©λ¬Έν• λ…Έλ“ μ²΄ν¬)
  >
  >- νμ— λ°©λ¬Έλ λ…Έλ“λ¥Ό μ‚½μ…(enqueue)ν•λ‹¤.
  >- μ΄κΈ° μƒνƒμ νμ—λ” μ‹μ‘ λ…Έλ“λ§μ΄ μ €μ¥
  >  - μ‹μ‘ λ…Έλ“μ μ΄μ›ƒ λ…Έλ“λ¥Ό λ¨λ‘ λ°©λ¬Έν• λ‹¤μ, μ΄μ›ƒμ μ΄μ›ƒλ“¤μ„ λ°©λ¬Έν•λ‹¤.
  >
  >2) νμ—μ„ κΊΌλ‚Έ λ…Έλ“μ™€ μΈμ ‘ν• λ…Έλ“λ“¤μ„ λ¨λ‘ μ°¨λ΅€λ΅ λ°©λ¬Έν•λ‹¤.
  >
  >- νμ—μ„ κΊΌλ‚Έ λ…Έλ“λ¥Ό λ°©λ¬Έν•λ‹¤.
  >- νμ—μ„ μ»¤λ‚Έ λ…Έλ“κ³Ό μΈμ ‘ν• λ…Έλ“λ“¤μ„ λ¨λ‘ λ°©λ¬Έν•λ‹¤.
  >  - μΈμ ‘ν• λ…Έλ“κ°€ μ—†λ‹¤λ©΄ νμ μ•μ—μ„ λ…Έλ“λ¥Ό κΊΌλ‚Έλ‹¤.(dequeue)
  >  - μΈμ ‘ν• λ…Έλ“κ°€ μλ‹¤λ©΄ μΈμ ‘ λ…Έλ“λ¥Ό μ‚½μ…(enqueue)ν•λ‹¤.
  >  - λ°©λ¬Έ μ²΄ν¬λ¥Ό ν•λ‹¤.
  >
  >3) νκ°€ μ†μ§„λ  λ•κΉμ§€ κ³„μ†ν•λ‹¤.



### 4. BFS κµ¬ν„

- μλ£ κµ¬μ΅° **ν(Queue)λ¥Ό μ΄μ©**

- BFS μμ‚¬μ½”λ“(pseudo code)

  ```pseudocode
  void search(Node root) {
    Queue queue = new Queue();
    root.marked = true; // (λ°©λ¬Έν• λ…Έλ“ μ²΄ν¬)
    queue.enqueue(root); // 1-1. νμ λμ— μ¶”κ°€
  
    // 3. νκ°€ μ†μ§„λ  λ•κΉμ§€ κ³„μ†ν•λ‹¤.
    while (!queue.isEmpty()) {
      Node r = queue.dequeue(); // νμ μ•μ—μ„ λ…Έλ“ μ¶”μ¶
      visit(r); // 2-1. νμ—μ„ μ¶”μ¶ν• λ…Έλ“ λ°©λ¬Έ
      // 2-2. νμ—μ„ κΊΌλ‚Έ λ…Έλ“μ™€ μΈμ ‘ν• λ…Έλ“λ“¤μ„ λ¨λ‘ μ°¨λ΅€λ΅ λ°©λ¬Έν•λ‹¤.
      foreach (Node n in r.adjacent) {
        if (n.marked == false) { // λ°©λ¬Έν•μ§€ μ•μ€ κ²½μ°
          n.marked = true; // (λ°©λ¬Έν• λ…Έλ“ μ²΄ν¬)
          queue.enqueue(n); // 2-3. νμ λμ— μ¶”κ°€
        }
      }
    }
  }
  ```



### 5. BFSμ κµ¬ν„λ°©μ‹, μ‹κ°„ λ³µμ΅λ„

- **μΈμ ‘ ν–‰λ ¬ VS μΈμ ‘ λ¦¬μ¤νΈ**

  - μΈμ ‘ ν–‰λ ¬ : μ΄μ°¨μ› λ°°μ—΄
    - O(N^2)
    - Nκ°μ λ…Έλ“μ— λ€ν•΄μ„ Nκ°μ λ‹¤λ¥Έ λ…Έλ“μ™€ μ—°κ²°μ΄ λμ–΄μκ³ , λ°©λ¬Έλμ§€ μ•μ€ λ…Έλ“λ¥Ό μ²΄ν¬ν•΄μ•Όν•λ―€λ΅ **O(N^2)**
  - μΈμ ‘ λ¦¬μ¤νΈ : λ§ν¬λ“λ¦¬μ¤νΈ λ°°μ—΄, μ–΄λ μ΄λ¦¬μ¤νΈ λ°°μ—΄, μ–΄λ μ΄λ¦¬μ¤νΈλ¥Ό μ €μ¥ν•λ” μ–΄λ μ΄ λ¦¬μ¤νΈ λ“±κ³Ό κ°™μ΄ κµ¬ν„ κ°€λ¥
    - O(N+E)
    - μλ£κµ¬μ΅° vector νΉμ€ μ—°κ²° λ¦¬μ¤νΈλ΅ ν‘ν„λ κ²½μ° Nκ°μ λ…Έλ“μ— λ€ν•΄μ„ μ—°κ²°λ Eκ°μ κ°„μ„ λ§νΌ νƒμƒ‰μ„ μ§„ν–‰ν•λ―€λ΅ **O(N+E)**

  > ![image](https://user-images.githubusercontent.com/39832802/91535061-8c128900-e94d-11ea-800b-41a4dbbe1c40.png)
  >
  > ( μ‚¬μ§„ μ¶μ²: [sukongλ‹μ κΈ°μ λΈ”λ΅κ·Έ]([https://velog.io/@sukong/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EA%B0%9C%EB%85%90-%EB%84%88%EB%B9%84%EC%9A%B0%EC%84%A0%ED%83%90%EC%83%89BFS-lp8zywtn](https://velog.io/@sukong/μ•κ³ λ¦¬μ¦-κ°λ…-λ„λΉ„μ°μ„ νƒμƒ‰BFS-lp8zywtn)) )

- DFSμ™€ λ§μ°¬κ°€μ§€λ΅ κ·Έλν”„ λ‚΄μ— **μ μ€ μ«μμ κ°„μ„ λ§μ„ κ°€μ§€λ” ν¬μ† κ·Έλν”„(Sparse Graph)μ κ²½μ°** μΈμ ‘ν–‰λ ¬λ³΄λ‹¤ **μΈμ ‘ λ¦¬μ¤νΈλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ λ¦¬!**



### π“ κ²°λ΅ 

>1. BFSλ” μ‹μ‘ μ •μ μΌλ΅λ¶€ν„° κ°€κΉμ΄ μ •μ μ„ λ¨Όμ € λ°©λ¬Έν•κ³  λ©€λ¦¬ λ–¨μ–΄μ Έ μλ” μ •μ μ„ λ‚μ¤‘μ— λ°©λ¬Έν•λ” μν λ°©λ²•
>   - λ„λΉ„ μ°μ„  νƒμƒ‰μ„ μ„ν•΄ λ°©λ¬Έν• μ •μ λ“¤μ„ μ°¨λ΅€λ΅ μ €μ¥ν• ν›„ κΊΌλ‚Ό μ μλ” μλ£κµ¬μ΅° **ν**κ°€ ν•„μ”
>   - λ°©λ¬Έν• μ •μ λ“¤μ„ μ²΄ν¬κ°€ ν•„μ”
>2. μµλ‹¨ κ±°λ¦¬λ¥Ό νƒμƒ‰ν•  κ²½μ° BFS μ•κ³ λ¦¬μ¦ ν™μ©μ΄ μ μ©ν•λ‹¤.
>3. μ μ€ μμ κ°„μ„ μ„ κ°€μ§„ κ²½μ°, μΈμ ‘ν–‰λ ¬ λ°©μ‹μ΄ μ•„λ‹ μΈμ ‘ λ¦¬μ¤νΈ λ°©μ‹μ κµ¬ν„μ΄ ν¨μ¨μ μ΄λ‹¤. 
>   - μΈμ ‘ λ¦¬μ¤νΈμ μ‹κ°„ λ³µμ΅λ„κ°€ O(N+E)
>   - μΈμ ‘ ν–‰λ ¬μ μ‹κ°„ λ³µμ΅λ„λ” O(N^2) 



