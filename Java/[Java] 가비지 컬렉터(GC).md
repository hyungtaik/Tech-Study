# Garbage Collector (가비지 콜렉터)

### 1. **GC(가비지 콜렉터)란?**

> - 자바에서 메모리를 GC라는 알고리즘을 통하여 관리하기 때문에, 개발자가 메모리를 처리하기 위한 로직을 만들 필요가 없고, 절대로 만들어서는 안된다. 
> - Garabage Collection. 자바에서 쓰레기는 객체이다. 하나의 객체는 메모리를 점유하고, 필요하지 앟으면 메모리에서 해제되어야 한다. 코드 상에서 객체가 만들어져 메모리의 한 부분을 점유하고, 특정 메소드를 호출한 후 수행이 완료되어 더이상 필요없는 개체, 즉 쓰레기가된다. 이러한 **쓰레기 객체를 효과적으로 처리하는 작업을 GC**라고 한다.



### 2. GC의 원리

> 1) 메모리 할당
>
> 2) 사용 중인 메모리 인식
>
> 3) 사용하지 않는 메모리 인식
>
> > - GC를 해도 더이상 사용 가능한 메모리가 없는데 계속 메모리를 할당하려고 하면, OutOfMemoryError가 발생하여 WAS가 다운될 수도 있어 서버가 요청을  처리 못하고 있는 상태가 된다.
> >
> > - JVM의 메모리는 크게 클래스 영역, 자바 스택, 힙, 네이티브 메소드 스택의 4개 영역으로 나뉘고, 가비지 콜렉터에서는 힙 메모리를 다루게 된다. 즉 자바 콜렉터가 인식하고 할당하는 메모리 영역은 힙 영역인 것이다.
> > - JVM 힙 영역은 Young, Old, Perm 세 영역으로 나뉘는데 이 중 Perm(Permanent) 영역은 거의 사용되지 않는 영역으로서 클래스와 메소드 정보와 같이 자바 언어 레벨에서 사용되지 않는다. 즉 Young(Eden, Survivor1, Survivor2) , Old 영역으로 나뉜다.  
> >   - 메모리에 객체가 생성되면 Eden 영역에 객체가 지정된다. Eden 영역에 데이터가 어느 정도 쌓이면, 이 영역에 있던 객체가 Survivor영역으로 옮겨지거나 삭제된다. 이 때 두개의 Survivor 영역 사이에 우선순위가 있는 것이 아니지만, 둘 중 한 영역은 반드시 비어있어야 한다. 그 비어있는 영역에는 Eden 영역에 있던 객체가 할당되게 된다.
> >   - Eden에서 Survivor 둘 중 하나의 영역으로 할당되고, 할당된 Survivor 영역이 차면, GC가 되면서 Eden 영역에 있는 객체와 꽉 찬 Survivor 영역에 있는 객체가 비어있는 Survivor 영역으로 이동한다.
> >   - 그러다 더 큰 객체가 생성되거나, 더이상 Young 영역에 공간이 남지 않으면 객체들은 Old 영역으로 이동하게 된다.



### 3. GC의 종류

https://12bme.tistory.com/57









[참고 URL]

- https://d2.naver.com/helloworld/1329
- https://johngrib.github.io/wiki/java-gc-tuning/
- https://12bme.tistory.com/57
- [http://tech.javacafe.io/book/2017/12/12/%EB%8F%84%EC%84%9C_%EC%9E%90%EB%B0%94%EC%84%B1%EB%8A%A5%ED%8A%9C%EB%8B%9D%EC%9D%B4%EC%95%BC%EA%B8%B0/](http://tech.javacafe.io/book/2017/12/12/도서_자바성능튜닝이야기/)